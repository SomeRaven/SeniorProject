<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Kid Wrangler</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='style.css'>
    <script src="https://kit.fontawesome.com/9a4d71dfc3.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=KoHo:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&family=Monsieur+La+Doulaise&display=swap" rel="stylesheet">
    <script>
        document.addEventListener("DOMContentLoaded", async function () {
            try {
                const res = await fetch("/session-check", {
                    method: "GET",
                    credentials: "include"
                });
                const data = await res.json();
                if (!data.loggedIn) {
                    localStorage.removeItem("userLoggedIn");
                    window.location.href = "login-signup.html";
                }
            } catch (error) {
                console.error("Session check failed", error);
                window.location.href = "login-signup.html";
            }
        });
    </script>
    
    <script src='add-class.js'></script>
</head>
<body>
    <div id="top-bar"> 
        <div id="logo-title">
            <a href="check-in.html"><img src="cowboy.png" id="logo" alt="Cowboy Logo"></a>
            <a href="check-in.html"><h1 id="title" class="koho-medium">Student Wrangler</h1></a>
        </div>
        <div id="logo-title">
            <h2 id="logout-button" class="koho-light">Logout</h2>
            <a href="help.html">
                <i id='help-icon' class="fa-solid fa-circle-question fa-4x"></i>
            </a>
        </div>
    </div>
    <div id="main">
        <div id="left">
            <div id="user">
                <a href="profile.html">
                    <img src="user.png" id="user-icon" alt="User Icon">
                </a>
                <h2 id="user-name" class="koho-bold">Funny Cat</h2>
                <h3 id="user-company" class="koho-light">STEM Center</h3>
                <h3 id="user-title" class="koho-light"> Administrator</h3>
            </div>
            <div id="nav">
                <a href="check-in.html" class="nav-item">
                    <i class="fa-solid fa-circle-check fa-2x"></i>
                    <h3 class="koho-light">Check In</h3>
                </a>
                <a href="students.html" class="nav-item">
                    <i class="fa-solid fa-user fa-2x"></i>
                    <h3 class="koho-light">Students</h3>
                </a>
                <a href="classes.html" class="nav-item">
                    <i class="fa-solid fa-book fa-2x"></i>
                    <h3 class="koho-light">Classes</h3>
                </a>
            </div>
        </div>
        <div id="content">
            <h2>Add a Class</h2>
            <form id="add-class-form">
                <label for="class_name">Class Name:</label>
                <input type="text" id="class_name" name="class_name" required>

                <label for="teacher_name">Teacher Name:</label>
                <input type="text" id="teacher_name" name="teacher_name" required>
            
                <label for="class_location">Location:</label>
                <input type="text" id="class_location" name="class_location" required>
                
                <label for="meeting_day">Meeting Day:</label>
                <input type="text" id="meeting_day" name="meeting_day" required>

                <label for="class_time">Time:</label>
                <input type="text" id="time" name="class_time" required>

                <label for="semester">Semester:</label>
                <input type="text" id="semester" name="semester" required>
                
                <button type="submit">Add Class</button>
            </form>
        </div>
    </div>
</body>
</html>